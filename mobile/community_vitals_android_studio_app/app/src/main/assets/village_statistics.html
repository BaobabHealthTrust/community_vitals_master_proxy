<html>
<head>
  <title>CVR</title>
  <link rel="stylesheet" type="text/css" href="css/main.css" />

  <script type="text/javascript" src="js/md5.js"></script>
  <script type="text/javascript" src="js/vocab.js"></script>
  <script type="text/javascript" src="js/datasrc.js"></script>
  <script type="text/javascript" src="js/main.js" defer></script>
  <script type="text/javascript" src="js/google.fastbutton.js"></script>

  <script type="text/javascript" defer>
      <!--

      // setTimeout("loadPage('spec/add_person.spec')", 200);

      function load(){

          var currentTime = new Date()
          var day = "";
          if (parseInt(currentTime.getDate().toString()) > 9)
          {
              day = currentTime.getDate();
          }
          else
          {
              day = "0" + currentTime.getDate().toString();
          }
          var date = currentTime.getFullYear() +"-"+ (currentTime.getMonth() + 1) +"-" + day;

          __$("parent").innerHTML =
            "<table style='width: 100%'><tr class='heading'><td colspan='2'>"+
            search("Population Statistics")+"</td></tr><tr><td>"+ search("Total Population")+"</td><td style='text-align: center'>"
            + Android.getPeople(date) +"</td></tr><tr><td>&nbsp;</td></tr>"+
            "<tr class='heading'><td colspan='2' >"+ search('Population by Gender')+"</td></tr>"+
            "<tr><td>"+search('Females')+"</td><td style='text-align: center'>"+Android.getGenderCount('1900-01-01',date,'Female')+"</td></tr><tr>"+
            "<tr><td>Males</td><td style='text-align: center'>"+ Android.getGenderCount('1900-01-01',date,'Male') +"</td></tr><tr>"+
            "<tr class='heading'><td colspan='2' >"+ search('Age Distribution')+"</td>"+
            "<tr><td>0 to < 1</td><td style='text-align: center'>" +
            Android.getAgegroupCount( 0, 0, '1900-01-01' ,date) +"</td></tr>"+
            "<tr><td>1 - 4</td><td style='text-align: center'>" +
            Android.getAgegroupCount( 1, 4, '1900-01-01' ,date) +"</td></tr>"+
            "<tr><td>5 - 14</td><td style='text-align: center'>" +
            Android.getAgegroupCount( 5, 14, '1900-01-01' ,date) +"</td></tr>"+
            "<tr><td>15 - 24</td><td style='text-align: center'>" +
            Android.getAgegroupCount(15, 24, '1900-01-01' ,date) +"</td></tr>"+
            "<tr><td>25 - 34</td><td style='text-align: center'>" +
            Android.getAgegroupCount( 25, 34, '1900-01-01' ,date) +"</td></tr>"+
            "<tr><td>35 - 44</td><td style='text-align: center'>" +
            Android.getAgegroupCount( 35, 44, '1900-01-01' ,date) +"</td></tr>"+
            "<tr><td>45 - 54</td><td style='text-align: center'>" +
            Android.getAgegroupCount( 45, 54, '1900-01-01' ,date) +"</td></tr>"+
            "<tr><td>55 - 64</td><td style='text-align: center'>" +
            Android.getAgegroupCount( 55, 64, '1900-01-01' ,date) +"</td></tr><tr>"+
            "<tr><td>65 - 74</td><td style='text-align: center'>" +
            Android.getAgegroupCount( 65, 74, '1900-01-01' ,date) +"</td></tr><tr>"+
            "<tr><td>75+</td><td style='text-align: center'>" +
            Android.getAgegroupCount(75, 200, '1900-01-01' ,date) +"</td></tr>"+
            "<tr class='heading'><td colspan='2' >" + search('Population By Outcome')+"</td></tr>"+
            "<tr><td>"+search('People Alive')+"</td><td style='text-align: center'>"+Android.getCulAlive(date)+"</td></tr><tr>"+
            "<tr><td>"+search('People Who Died')+"</td><td style='text-align: center'>"+Android.getCulOutcome(date,'Dead')+"</td></tr><tr>"+
            "<tr><td>"+search('People Who Transferred Out')+"</td><td style='text-align: center'>"+Android.getCulOutcome(date,'Transfer Out')+"</td></tr><tr>"+
            "</table>";


          new FastButton(document.getElementById('home'), function() {
              window.location = "index.html";
          });
          var mode = Android.getPref("dde_mode");

          if (mode == 'gvh')
          {
              document.getElementById('ta').innerHTML = Android.getPref("ta");
              document.getElementById('gvh').innerHTML = Android.getPref("gvh");
              document.getElementById('vh_row').style.display = 'none';
              document.getElementById('logo').setAttribute('rowspan', 3)
          }
          else if (mode == 'ta')
          {
              document.getElementById('ta').innerHTML = Android.getPref("ta");
              document.getElementById('gvh_row').style.display = 'none';
              document.getElementById('vh_row').style.display = 'none';
              document.getElementById('logo').setAttribute('rowspan', 2)
          }
          else
          {
              document.getElementById('ta').innerHTML = Android.getPref("ta");
              document.getElementById('gvh').innerHTML = Android.getPref("gvh");
              document.getElementById('vh').innerHTML = Android.getPref("vh");
          }

          localise();
      }

      function localise()
      {
          var fields = ["ta_header","gvh_header", "vh_header","main_title"];

          for (var i =0; i < fields.length; i++)
          {
              document.getElementById(fields[i]).innerHTML = search(document.getElementById(fields[i]).innerHTML);
          }

      }

      //-->
  </script>

    <style type="text/css">
        tr.heading{
            background-color: silver;
            height: 45px;
            font-size: 17px;
            text-align: center;
        }
        tr{
            font-size: 15px;
        }

        td.count{
            text-align: center;
            cursor: pointer;
        }

    </style>

</head>
<body onload="load()" style="margin: 0px; padding: 0px;">

<div class="table" style="border-spacing: 0px; width: 100%;">
  <div class="row">
    <div class="cell center" style="position: relative; width: 100%; height: 80%;">
        <div id="header" style="background-color: #f1f1f1; min-height: 80px;
              width: 100%; margin: 0px; margin-top: -5px; padding: 0px;
              border:solid black; border-width: 0px 0px 0.4em 0px; ">
              <table style="width: 100%; height: 70px" >
                  <tr>
                      <td id='logo' style="width: 100px;text-align: center" rowspan="4">
                          <img src="images/baobab.png" style="height: 70px;width:90px;">
                      </td>
                      <td style="vertical-align: top; font-size: 15px; font-weight: bold;" id="main_title">Village Summary</td>
                      <td>&nbsp;</td><td>&nbsp;</td>
                  </tr>
                  <tr>
                      <td style="font-weight: bold;width:160px;font-size: 13px" id="ta_header">Traditional Authority</td>
                      <td style="width:5px;font-size: 13px">:</td>
                      <td id='ta' style="font-size: 13px"></td>
                  </tr>
                  <tr id= 'gvh_row'>
                      <td style="font-weight: bold;font-size: 13px" id="gvh_header">Group Village Headman</td>
                      <td style="font-size: 13px">:</td>
                      <td id='gvh' style="font-size: 13px"></td>
                  </tr>
                  <tr id= 'vh_row'>
                      <td style="font-weight: bold;font-size: 13px" id="vh_header" >Village Headman</td>
                      <td style="font-size: 13px">:</td>
                      <td id='vh' style="font-size: 13px"></td>
                  </tr>
              </table>
        </div>
       <div id="parent" style="background-color: #f1f1f1; min-height: 400px;max-height: 80%;
              width: 100%; margin: 0px; margin-top: -5px; padding: 0px;overflow: auto;">



      </div>

      <div class="nav" style="position: absolute; bottom: 0px; border: 1px #fff solid; height: 64px;
              width: 100%; background-color: #666; margin: 0px; margin-bottom: -70px;
              margin-left: -5px; ">

        <a id="home" style="float: left;">
          <img src="images/home.png" alt="Home" style="margin: 0px;
                  margin-left: 15px;" height="60" />
        </a>

      </div>
    </div>
  </div>
</div>
</body>
</html>
